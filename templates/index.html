{% extends "base.html" %}

{% block title %}Cancer Treatment Assistant - AI-Powered Medical Information{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section">
    <div class="container">
        <div class="row align-items-center min-vh-50">
            <div class="col-lg-6">
                <div class="hero-content">
                    <h1 class="hero-title">
                        <i class="fas fa-user-md text-primary"></i>
                        Cancer Treatment Assistant
                    </h1>
                    <p class="hero-subtitle">
                        Advanced AI-powered medical information system providing comprehensive guidance 
                        on cancer treatments, side effects, and patient care.
                    </p>
                    <div class="hero-stats">
                        <div class="stat-badge">
                            <i class="fas fa-database"></i>
                            <span>Comprehensive Database</span>
                        </div>
                        <div class="stat-badge">
                            <i class="fas fa-brain"></i>
                            <span>AI-Powered Analysis</span>
                        </div>
                        <div class="stat-badge">
                            <i class="fas fa-shield-alt"></i>
                            <span>Medical-Grade Information</span>
                        </div>
                    </div>
                    <div class="hero-actions">
                        <a href="{{ url_for('chat') }}" class="btn btn-primary btn-lg hero-btn">
                            <i class="fas fa-comments me-2"></i>Start Chatting
                        </a>
                        <a href="{{ url_for('statistics') }}" class="btn btn-outline-secondary btn-lg hero-btn">
                            <i class="fas fa-chart-bar me-2"></i>View Statistics
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="hero-image">
                    <div class="floating-card">
                        <div class="card-header">
                            <i class="fas fa-robot"></i>
                            <span>AI Assistant</span>
                        </div>
                        <div class="card-content">
                            <p>What are treatment options for breast cancer stage 2?</p>
                            <div class="typing-animation">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="features-section">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="section-title">
                    <i class="fas fa-star"></i>
                    Key Features
                </h2>
                <p class="section-subtitle">
                    Comprehensive medical assistance powered by advanced AI technology
                </p>
            </div>
        </div>
        <div class="row g-4">
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-search-plus"></i>
                    </div>
                    <h5 class="feature-title">Medical Entity Recognition</h5>
                    <p class="feature-description">
                        Advanced NLP algorithms identify and categorize medical terms, 
                        symptoms, treatments, and conditions in your queries.
                    </p>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-pills"></i>
                    </div>
                    <h5 class="feature-title">Treatment Recommendations</h5>
                    <p class="feature-description">
                        Get detailed information about treatment options, protocols, 
                        and evidence-based medical recommendations.
                    </p>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <h5 class="feature-title">Side Effects Management</h5>
                    <p class="feature-description">
                        Comprehensive guidance on managing treatment side effects 
                        and improving quality of life during treatment.
                    </p>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h5 class="feature-title">Stage-Specific Information</h5>
                    <p class="feature-description">
                        Tailored information based on cancer stages, helping you 
                        understand your specific situation better.
                    </p>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-flask"></i>
                    </div>
                    <h5 class="feature-title">Drug Interactions</h5>
                    <p class="feature-description">
                        Important information about medication interactions and 
                        contraindications for safe treatment planning.
                    </p>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-heartbeat"></i>
                    </div>
                    <h5 class="feature-title">Holistic Care Guidance</h5>
                    <p class="feature-description">
                        Comprehensive support including nutrition, mental health, 
                        and lifestyle recommendations during treatment.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Quick Access Section -->
<div class="quick-access-section">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="section-title">
                    <i class="fas fa-bolt"></i>
                    Quick Access
                </h2>
                <p class="section-subtitle">
                    Start exploring with these common questions
                </p>
            </div>
        </div>
        <div class="row g-3">
            {% for query in example_queries %}
            <div class="col-lg-6 col-md-6">
                <div class="quick-question-card" data-query="{{ query }}">
                    <div class="question-icon">
                        <i class="fas fa-comment-medical"></i>
                    </div>
                    <div class="question-content">
                        <p>{{ query }}</p>
                        <span class="question-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </span>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{{ url_for('chat') }}" class="btn btn-primary btn-lg">
                <i class="fas fa-comments me-2"></i>Start Your Conversation
            </a>
        </div>
    </div>
</div>

<!-- Statistics Preview Section -->
<div class="stats-preview-section">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="section-title">
                    <i class="fas fa-chart-bar"></i>
                    Medical Database Overview
                </h2>
                <p class="section-subtitle">
                    Comprehensive medical information at your fingertips
                </p>
            </div>
        </div>
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="stat-card">
                    <div class="stat-icon-large">
                        <i class="fas fa-disease"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number">{{ cancer_count or '50+' }}</h3>
                        <p class="stat-label">Cancer Types</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-card">
                    <div class="stat-icon-large">
                        <i class="fas fa-pills"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number">{{ treatment_count or '200+' }}</h3>
                        <p class="stat-label">Treatment Options</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-card">
                    <div class="stat-icon-large">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number">{{ side_effect_count or '100+' }}</h3>
                        <p class="stat-label">Side Effects</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-card">
                    <div class="stat-icon-large">
                        <i class="fas fa-comments"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number">1000+</h3>
                        <p class="stat-label">Queries Answered</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-center mt-4">
            <a href="{{ url_for('statistics') }}" class="btn btn-outline-primary btn-lg">
                <i class="fas fa-chart-line me-2"></i>View Detailed Statistics
            </a>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // Landing page interactions
    document.addEventListener('DOMContentLoaded', function() {
        // Add click functionality to quick question cards
        document.querySelectorAll('.quick-question-card').forEach(card => {
            card.addEventListener('click', function() {
                const query = this.dataset.query;
                // Redirect to chat page with the query as a URL parameter
                window.location.href = `/chat?q=${encodeURIComponent(query)}`;
            });
        });

        // Add smooth scrolling for internal links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add intersection observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animationPlayState = 'running';
                }
            });
        }, observerOptions);

        // Observe all animated elements
        document.querySelectorAll('.feature-card, .quick-question-card, .stat-card').forEach(el => {
            observer.observe(el);
        });

        // Add parallax effect to hero section
        window.addEventListener('scroll', function() {
            const scrolled = window.pageYOffset;
            const heroSection = document.querySelector('.hero-section');
            if (heroSection) {
                heroSection.style.transform = `translateY(${scrolled * 0.5}px)`;
            }
        });

        // Add loading state to buttons
        document.querySelectorAll('.hero-btn, .btn').forEach(btn => {
            btn.addEventListener('click', function() {
                if (this.href && !this.href.includes('#')) {
                    const originalText = this.innerHTML;
                    this.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Loading...';
                    this.style.pointerEvents = 'none';
                    
                    // Reset after a short delay if navigation doesn't happen
                    setTimeout(() => {
                        this.innerHTML = originalText;
                        this.style.pointerEvents = 'auto';
                    }, 3000);
                }
            });
        });
    });
</script>
{% endblock %}
